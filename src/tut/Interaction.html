<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>

  <title></title>

</head><body>
  <div class="article">
    <p>PlotDevice is designed to output PDF documents or images, when you want to do all sorts of
    moving and interactive things you’re probably better off with a tool like <a href="http://processing.org/">Processing</a>.</p>
    <p>However, if you do want to experiment with interactivity in PlotDevice, there’s some built-in
    support that might be of help to you. This assumes you already know how to make an <a href="Animation.html">animation</a> in PlotDevice.<br/></p>
    <h2>Interacting with the mouse</h2>

    <p>In a PlotDevice animation, there are three predefined variables that store the current position
    of the mouse cursor and the state of the mouse button:</p>
    <ul>
      <li>MOUSEX: the horizontal location of the mouse cursor
      </li><li>MOUSEY: the vertical location of the mouse cursor
      </li><li>mousedown: is True when the mouse button is pressed, False otherwise
    </li></ul>

    <p>You would typically use the mousedown variable in an if-statement:</p>
<pre>if mousedown:
     # do stuff when the mouse is pressed
else:
     # do stuff when the mouse isn't pressed
</pre>

    <h2>Interacting with the keyboard</h2>

    <p>Three predefined variables store the keys a user is pressing during a PlotDevice animation:</p>
    <ul>
      <li>key: the last key pressed
      </li><li>keycode: the integer keycode of the last key pressed
      </li><li>keydown: is True when a key is being pressed, False otherwise
    </li></ul>

    <p>The key and keycode variables are updated as long as any key is being pressed.</p>
    <p>KEY_UP, KEY_DOWN_ KEY_LEFT, KEY_RIGHT, KEY_BACKSPACE contain the keycodes for the arrow keys
    and the backspace key.<br/></p>
    <h2>Example</h2>

    <p>A fun example is this little sketch application. Simply run the code and draw some stuff on
    the canvas! <img alt="interaction-sketch" height="541" src="../etc/tut/interaction-sketch.gif" width="761"/></p>
    <p><a href="http://nodebox.net/code/data/media/interaction-sketch.mov">Play movie</a></p>
<pre>size(400 ,400)
speed(30)
 
def setup():
    
    global path, d
    path = []
 
def draw():
    
    global path
 
    nofill()
    stroke(0)
    autoclosepath(False)
    
    if mousedown:
        pt = Point(MOUSEX, MOUSEY)
        path.append(pt)
        
    if len(path) &gt; 0:
        first = True
        for pt in path:
            if first:
                beginpath(pt.x, pt.y)
                first = False
            else:
                lineto(pt.x, pt.y)
        endpath()
</pre>
  </div>

</body></html>