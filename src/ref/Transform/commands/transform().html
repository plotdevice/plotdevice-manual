<html><head>

  <title></title>

</head><body>
  <div class="definition">
    <h1>transform()</h1>

    <h2>Syntax</h2>

    <div class="row">
      <div class="def-box">
<pre>transform(mode=CENTER)
</pre>

        <p>Set the current transform mode
      </p></div>

      <div class="def-box">
<pre>with transform(mode=CENTER, *transforms) as t:
    ... # drawing &amp; transformation commands
</pre>

        <p>Change the mode (and optionally apply transforms) for the indented block
      </p></div>
    </div>

    <h2>Description</h2>

    <div class="row">
      <p>The <code>mode</code> parameter sets the registration point – the offset for <a href="#rotate()">rotate()</a>, <a href="#scale()">scale()</a> and <a href="#skew()">skew()</a> commands. By default, primitives, text, and images rotate around their own centerpoints. But if you call <i>transform()</i> with <code><span class="kw">CORNER</span></code> as its <code>mode</code> parameter transformations will be applied relative to canvas’s upper left corner.
    </p></div>

    <h2>Context Manager</h2>

    <div class="row">
      <p>When called as part of a <code class="kw">with</code> block, any subsequent transformation calls will apply only within the block. At the end of the block, the transformation state will be reset to what it was before the <i>transform()</i> call. This is equivalent to calling <a href="#push()">push()</a> and <a href="#pop()">pop()</a> at the beginning and end of the block respectively, though <i>transform()</i> will also reset the <code>mode</code> on exit.
      </p><pre>with transform(CORNER):
    translate(100,20)
    line(0,0, 40,0)
</pre>

      <p><em>is equivalent to:</em>
      </p><pre>oldmode = CENTER
transform(CORNER)
push()
translate(100,20)
line(0,0, 40,0)
pop()
transform(oldmode)
</pre>
    </div>

    <h2>Inline Transformations</h2>

    <div class="row">
      <p>In addition to the optional <code>mode</code> parameter, the <i>transform()</i> function also accepts a sequence of transformation commands. These commands will affect the global state and are equivalent to calling them on separate lines of your script.
      </p><pre>transform(rotate(radians=pi/2), scale(2.0))
</pre>

      <p><em>is equivalent to:</em>
      </p><pre>rotate(radians=pi/2)
scale(2.0)
</pre>

      <p>When used in a <code>with</code>-statement, the commands will be applied at the beginning of the block and then reset at the end. For example, the following usages are equivalent:
      </p><pre>with transform(reset(), translate(40,40), rotate(45)):
    rect(0,0,20,20)
</pre>
<pre>with transform():
    reset()
    translate(40,40)
    rotate(45)
    rect(0,0,20,20)
</pre>
    </div>

    <h2>Returns</h2>

    <div class="row">
      <p>a <a href="#Transform"><code>Transform</code></a> object with the canvas's "current" transformation state.</p>

      <p>When <i>transform()</i> is called as part of a <code>with</code> statement, you can "capture" the <i>Transform</i> object it creates by using the <code class="kw">as</code> construct. The captured object can then be applied to <a href="Drawing.html#Bezier"><code>Bezier</code></a> and <a href="Misc.html#Point"><code>Point</code></a> objects even after the block has completed:</p>
      <pre>
with transform() as t: # define a Transform object in the `t` variable
    skew(20.0)
square = poly(50,50, 20, fill=0.7) # a non-transfomed square
parallelogram = t.apply(square) # create a skewed copy of the square
bezier(parallelogram)
</pre>
    </div>

    <h2>Tutorial</h2>

    <div class="row">
      <a href="../tut/Graphics_State.html">Graphics State</a>
    </div>

    <h2>Examples</h2>

    <div class="row">
      <div class="example">
        <span><img height="125" src="../etc/ref/pop.jpg" width="125"/></span>
<pre>fill(0.2)
fontsize(14)
rotate(90)
text("one", 40, 80)

with transform():
    rotate(-90)
    text("two", 40, 40)

text("three", 50, 80)
</pre>
      </div>
    </div>
  </div>

</body></html>