<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>

  <title></title>

</head><body>
  <div class="article">
    <h2>Syntax</h2>
<pre>canvas.layers[i].pixels.update()
</pre>

    <h2>Description</h2>

    <p>Updates the pixels array of layer <em>i</em> after it has been modified. To save time,
    changes to the <a href="Layer.pixels[].html">Layer.pixels[]</a> pixels array only take effect
    after calling this command.</p>
    <h2>Example</h2>

    <p>Remove all white pixels from the given image, with a feather at the edges of white areas:</p>
<pre>photobot = ximport("photobot")
canvas = photobot.canvas(200,200)
canvas.layer("smurf.gif")
 
w = canvas.layers[1].w
feather = [-w-1, -w, -w+1, -1, 1, w-1, w, w+1]
 
pixels = canvas.layers[1].pixels
for i in range(len(pixels)):
    r, g, b, a = pixels[i]
    if r == g == b == 255: 
        pixels[i] = r, g, b, 0
        for j in feather:
            r, g, b, a = pixels[i+j]
            pixels[i+j] = r, g, b, a/2            
 
pixels.update()
</pre>
  </div>

</body></html>